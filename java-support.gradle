
/**
 * Common Gradle script configuration for Java projects and tasks.
 * 
 * @author Emanuel Rabina
 */

repositories {
	mavenCentral()
}

sourceSets {
	main {
		java.srcDirs      = ['Java']
		resources.srcDirs = java.srcDirs
	}
	test {
		java.srcDirs      = ['Tests']
		resources.srcDirs = java.srcDirs
	}
}

/*
 * Workaround for having duplicated files in the resulting JAR, taken from here:
 * http://forums.gradle.org/gradle/topics/standard_jar_task_generates_a_jar_with_duplicate_entries_if_we_change_the_resource_output_folder
 */
jar.doFirst {
	sourceSets.main.output.resourcesDir = "/does/not/exist"
}
jar.doLast {
	sourceSets.main.output.resourcesDir = sourceSets.main.output.classesDir
}
